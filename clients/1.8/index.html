<!DOCTYPE html>
<html lang="en">
    <head>
        <!-- Google tag (gtag.js) -->
        <script async src="https://www.googletagmanager.com/gtag/js?id=G-82G6MMXW2Q"></script>
        <script>
            window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());

            gtag('config', 'G-82G6MMXW2Q');
        </script>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Eaglercraft Launcher | 1.8</title>
        <meta property="og:locale" content="en-US">
        <meta property="og:type" content="website">
        <link rel="icon" href="/images/favicon.ico">
        <script type="text/javascript" src="/clients/1.8/classes.js"></script>
        <!--script type="text/javascript" src="/scripts/injectUserscript.js"></script-->
		<script type="text/javascript">
            /*

            const colonThree = window.alert;
            window.alert = function(message) {
                const messageString = String(message);
                if (messageString.toLowerCase().includes("not an official website")) {
                    console.log(":(");

                } else {
                    colonThree.apply(this, arguments);
                }
            };*/

			"use strict";
            function getCookieValue(name) {
                const value = `; ${document.cookie}`;
                const parts = value.split(`; ${name}=`);
                if (parts.length === 2) return parts.pop().split(';').shift();
                return 'default-1.8.epk';
            }
			window.addEventListener("load", () => {
				if(document.location.href.startsWith("file:")) {
					alert("HTTP please, do not open this file locally, run a local HTTP server and load it via HTTP");
				}else {
					const relayId = Math.floor(Math.random() * 3);
					window.eaglercraftXOpts = {
						demoMode: false,
						container: "game_frame",
                        assetsURI: "/clients/1.8/assets/" + getCookieValue('ClientEPK1_8'),
                        localesURI: "/clients/1.8/lang/",
						worldsDB: "worlds",
						servers: [
							{ addr: "wss://us.nightshade.lol", name: "Nightshade Network" }
						],
						relays: [
							{ addr: "wss://relay.theludos.com/", comment: "ServerDotSo Relay", primary: relayId == 0 },
							{ addr: "wss://relay.serverdot.so/", comment: "ayunami relay #1", primary: relayId == 1 }
						]
					};
					var q = window.location.search;
					if(typeof q === "string" && q.startsWith("?")) {
						q = new URLSearchParams(q);
						var s = q.get("server");
						if(s) window.eaglercraftXOpts.joinServer = s;
					}
					main();
					
				}
			});
		</script>
	</head>
	<body style="margin:0px;width:100vw;height:100vh;overflow:hidden;" id="game_frame">
	</body>
</html>